<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MLBB Tap Challenge</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    font-family: Arial, sans-serif;
    background:#f4f4f4;
    margin:0;
    text-align:center;
}

.container{
    max-width:400px;
    margin:auto;
    background:white;
    padding:15px;
    min-height:100vh;
}

.header{
    font-weight:bold;
    font-size:14px;
}

.timer{
    font-size:12px;
    margin-bottom:5px;
}

.reward{
    font-size:12px;
    margin-bottom:15px;
}

.score{
    font-size:48px;
    font-weight:bold;
}

.tap-btn{
    width:250px;
    height:250px;
    border-radius:50%;
    border:3px solid black;
    font-size:32px;
    font-weight:bold;
    margin:20px auto;
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    user-select:none;
}

.energy{
    font-size:14px;
}

.bar{
    height:10px;
    background:#ddd;
    margin:5px;
    border-radius:5px;
}

.bar-fill{
    height:10px;
    background:black;
    width:100%;
}

.btn{
    padding:10px;
    margin:5px;
    border:2px solid black;
    background:white;
    cursor:pointer;
}

.nav{
    margin-top:10px;
}

.hidden{
    display:none;
}

.list{
    text-align:left;
}

.popup{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.5);
    display:none;
    justify-content:center;
    align-items:center;
}

.popup-content{
    background:white;
    padding:20px;
    width:300px;
}

.close{
    float:right;
    cursor:pointer;
}
</style>
</head>

<body>

<div class="container">

<div class="header">WEEKLY CHALLENGE</div>
<div class="timer" id="timer">Ends in 7D 0H</div>
<div class="reward">
TOP 15<br>
MLBB Weekly Diamond Pass
</div>

<div id="tapPage">

<div class="score" id="score">0</div>

<div class="tap-btn" onclick="tap()">TAP</div>

<div class="energy">
⚡ <span id="energy">500</span>/500
</div>

<div class="bar">
<div class="bar-fill" id="energyBar"></div>
</div>

<button class="btn" onclick="watchAd()">+ Energy (Ad)</button>
<button class="btn" onclick="doubleCoin()">2× Boost</button>

</div>

<div id="earnPage" class="hidden">

<div class="btn" onclick="dailyLogin()">Daily Login (+1000)</div>

<div class="btn" onclick="referral()">
Invite Friend<br>
Earn 10,000 coins per new friend<br>
Friend must reach 2,000 coins
</div>

</div>

<div id="leaderboardPage" class="hidden">
<div class="list" id="leaderboard"></div>
</div>

<div class="nav">
<button class="btn" onclick="showPage('tap')">TAP</button>
<button class="btn" onclick="showPage('earn')">EARN</button>
<button class="btn" onclick="showPage('leaderboard')">LEADERBOARD</button>
<button class="btn" onclick="openHelp()">HELP</button>
<button class="btn" onclick="openMLBB()">MLBB ID</button>
</div>

</div>

<!-- HELP POPUP -->
<div class="popup" id="helpPopup">
<div class="popup-content">
<span class="close" onclick="closeHelp()">X</span>
<h3>Game Rules</h3>
<p>
Tap to earn coins.<br>
Coins become your Weekly Score.<br>
Top 15 players win MLBB Weekly Diamond Pass.<br>
Challenge resets every 7 days.<br>
Referral reward unlocks when friend reaches 2000 coins.<br>
</p>
</div>
</div>

<!-- MLBB POPUP -->
<div class="popup" id="mlbbPopup">
<div class="popup-content">
<span class="close" onclick="closeMLBB()">X</span>
<h3>MLBB ID</h3>
<input placeholder="Server ID"><br><br>
<input placeholder="User ID"><br><br>
<input placeholder="In Game Name"><br><br>
<button class="btn">Save</button>
</div>
</div>

<script>

// STATE
let score=0;
let energy=500;
let maxEnergy=500;
let boost=false;

// TAP
function tap(){
    if(energy<=0) return;

    let value=boost?2:1;
    score+=value;
    energy--;

    update();
}

// UPDATE UI
function update(){
    document.getElementById("score").innerText=score;
    document.getElementById("energy").innerText=energy;
    document.getElementById("energyBar").style.width=(energy/maxEnergy*100)+"%";
}

// ENERGY AD
function watchAd(){
    energy=Math.min(maxEnergy,energy+200);
    update();
}

// BOOST
function doubleCoin(){
    boost=true;
    setTimeout(()=>boost=false,60000);
}

// DAILY LOGIN
function dailyLogin(){
    score+=1000;
    update();
}

// REFERRAL
function referral(){
    alert("Referral reward will be granted when friend reaches 2000 coins.");
}

// PAGE NAV
function showPage(p){
    document.getElementById("tapPage").classList.add("hidden");
    document.getElementById("earnPage").classList.add("hidden");
    document.getElementById("leaderboardPage").classList.add("hidden");

    if(p==="tap") document.getElementById("tapPage").classList.remove("hidden");
    if(p==="earn") document.getElementById("earnPage").classList.remove("hidden");
    if(p==="leaderboard") document.getElementById("leaderboardPage").classList.remove("hidden");
}

// POPUPS
function openHelp(){
    document.getElementById("helpPopup").style.display="flex";
}
function closeHelp(){
    document.getElementById("helpPopup").style.display="none";
}

function openMLBB(){
    document.getElementById("mlbbPopup").style.display="flex";
}
function closeMLBB(){
    document.getElementById("mlbbPopup").style.display="none";
}

// LEADERBOARD SAMPLE
let players=[
{name:"ALEX",score:593908},
{name:"TOM",score:571334},
{name:"JOHN",score:548760},
{name:"LUCY",score:527419},
{name:"ROCK",score:479556},
{name:"PAUL",score:458903},
{name:"SHELBY",score:436195},
{name:"BILL",score:412638},
{name:"ELON",score:389770},
{name:"JOSEPH",score:367224},
{name:"ROCKY",score:349581},
{name:"BOB",score:333906},
{name:"HERO",score:318745},
{name:"ANGELA",score:304892},
{name:"NANA",score:299870},
];

function renderLeaderboard(){
    let html="";
    players.forEach((p,i)=>{
        html+=`${i+1}. ${p.name} — ${p.score}<br>`;
    });
    html+=`<br>Your Rank: 4800`;
    document.getElementById("leaderboard").innerHTML=html;
}

renderLeaderboard();
update();

// TIMER
let end=new Date();
end.setDate(end.getDate()+7);

function updateTimer(){
    let now=new Date();
    let diff=end-now;
    let d=Math.floor(diff/(1000*60*60*24));
    let h=Math.floor((diff/(1000*60*60))%24);
    document.getElementById("timer").innerText=`Ends in ${d}D ${h}H`;
}

setInterval(updateTimer,1000);
updateTimer();

</script>

</body>
</html>
